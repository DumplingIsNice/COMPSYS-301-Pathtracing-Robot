* C:\Users\OEM\Documents\GitHub\COMPSYS-301-Robot\lab\filter design\FilterSchematic_Rev0.asc
Vprojector Vsensor N005 SINE(300m 200m 120) AC 200m
Vlablights N005 N007 SINE(0 100m 100) AC 100m
C1 N001 Vsensor {C1}
C2 N003 N001 {C1}
R1 N002 N001 {R1}
R2 N006 N003 {R1}
XU1 N003 N004 Vcc 0 N002 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
Vpsoc Vcc 0 5
R4 N004 0 {Rq1}
R5 N002 N004 {Rq2}
C3 0 Vout {Chp}
R6 Vout N002 {Rhp}
R8 N006 Vcc {Rvdu}
R9 0 N006 {Rvdl}
Vnoise N007 0 SINE(300m 300m 4k) AC 300m
.param R1=100k C1=13.3n
.param Rq1=10k Rq2=10k
;tran 2s
.ac dec 10 1 100k
.param Rhp=1k Chp=79.58n
.param Rvdu=90k Rvdl=10k
* This acts as a DC offset.\nRemember that it has a gain set by the Q [(Rq1+Rq2)/Rq1].\n \nWith a Q of 2 (10k,10k) to get 1 V offset at output we require a voltage of 0.5V
.lib UniversalOpamps2.sub
.backanno
.end
